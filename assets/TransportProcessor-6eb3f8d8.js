var o=Object.defineProperty;var h=(e,s,a)=>s in e?o(e,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[s]=a;var i=(e,s,a)=>(h(e,typeof s!="symbol"?s+"":s,a),a);(function(){"use strict";class e extends AudioWorkletProcessor{constructor(t){super(t);i(this,"handleMessage",t=>{t.data&&t.data.type==="ping"?this.port.postMessage(t.data):t.data==="start"?this.started=!0:t.data==="pause"?(this.started=!1,this.lastPausedTime===0&&(this.lastPausedTime=currentTime)):t.data==="stop"&&(this.started=!1,this.totalPausedTime=0,this.lastPausedTime=0,this.startedAgainTime=0,this.wasStopped=!0)});this.port.addEventListener("message",this.handleMessage),this.port.start(),this.started=!1,this.totalPausedTime=0,this.lastPausedTime=0,this.startedAgainTime=0,this.wasStopped=!1}process(t,u,p){if(this.started){if(this.lastPausedTime>0){const d=currentTime-this.lastPausedTime;this.totalPausedTime+=d,this.lastPausedTime=0}this.wasStopped&&(this.startedAgainTime=currentTime,this.wasStopped=!1);const r=currentTime-this.totalPausedTime-this.startedAgainTime;this.port.postMessage({type:"bang",logicalTime:r})}return!0}}registerProcessor("transport",e)})();
